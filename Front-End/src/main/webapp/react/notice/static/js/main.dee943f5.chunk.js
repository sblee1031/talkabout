(this.webpackJsonpnotice=this.webpackJsonpnotice||[]).push([[0],{39:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(40),s=n.n(i),o=n(11),l=n(12),r=n(18),d=n(17),h=n(10),j=n(2),u=n(14),m=n(21),b=n(9),x=n.n(b),f="http://localhost:9999/ta_back/notice",g="http://localhost:9999/ta_back/noticecomment",O=new(function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:"fetchNotices",value:function(){return x.a.get(f+"/list",{withCredentials:!0})}},{key:"fetchNoticeByWord",value:function(e){return x.a.get(f+"/list/"+e,{withCredentials:!0})}},{key:"fetchNoticeByNo",value:function(e){return x.a.get(f+"/"+e,{withCredentials:!0})}},{key:"addNotice",value:function(e){return x.a.post(f,e,{withCredentials:!0})}},{key:"editNotice",value:function(e){return x.a.put(f+"/"+e.notice_no,e,{withCredentials:!0})}},{key:"deleteNotice",value:function(e){return x.a.delete(f+"/"+e,{withCredentials:!0})}},{key:"fetchNC",value:function(e){return x.a.get(g+"/list/"+e)}},{key:"fetchNCOne",value:function(e){return x.a.get(g+"/one/"+e)}},{key:"addNC",value:function(e){return console.log(e),x.a.post(g,e)}},{key:"editNC",value:function(e){return x.a.put(g+"/"+e.com_no,e)}},{key:"deleteNC",value:function(e){return x.a.delete(g+"/"+e)}}]),e}()),p=n(22),_=n.n(p),N=n(0),y=function(e){var t=e.itemsCount,n=e.pageSize,c=e.currentPage,a=e.onPageChange,i=Math.ceil(t/n),s=Math.ceil(c/n);if(1===i)return null;var o=s*n;o>i&&(o=i);var l=o-(n-1);l<1&&(l=1);var r=!1;r=1!=c;var d=!1;d=c!=i;var j=_.a.range(l,o+1);return Object(N.jsxs)("nav",{style:{display:"flex",justifyContent:"center"},children:[" ",Object(N.jsxs)("ul",{className:"pagination",children:[r&&Object(N.jsx)("li",{className:"prev",children:Object(N.jsx)(h.b,{className:"page-link",onClick:function(){return a(c-1)},children:"\xab"})}),j.map((function(e){return Object(N.jsxs)("li",{className:e===c?"page-item active":"page-item",style:{cursor:"pointer"},children:[Object(N.jsx)(h.b,{className:"page-link",onClick:function(){return a(e)},children:e})," "]},e)})),d&&Object(N.jsx)("li",{className:"next",children:Object(N.jsx)(h.b,{className:"page-link",onClick:function(){return a(c+1)},children:"\xbb"})})]})]})};var v=n(77),C=n(75),w=(n(39),function(e){Object(r.a)(n,e);var t=Object(d.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).reloadNoticeList=function(){0===c.state.filteredData.length?O.fetchNotices().then((function(e){console.log("res.data.notices",e.data.notices.length),c.setState({notices:e.data.notices,loginInfo:e.data.loginInfo})})).catch((function(e){console.log("reloadNoticeList() Error!",e)})):c.setState({notices:c.state.filteredData,filteredData:null})},c.handleChange=function(e){c.setState(Object(u.a)({},e.target.name,e.target.value))},c.handleSubmit=function(e){e.preventDefault();var t,n=c.state.searchKeyword;t=c.state.notices.filter((function(e){return console.log("data : ",e.notice_title," / ",e.notice_contents),console.log("value : ",n),-1!==e.notice_title.search(n)||-1!==e.notice_contents.search(n)})),c.setState({filteredData:t},(function(){c.reloadNoticeList()})),c.setState({searchKeyword:"",currentPage:1})},c.handlePageChange=function(e){c.setState({currentPage:e})},c.addNotice=function(){window.localStorage.removeItem("noticeNo"),c.props.history.push("./notice/write")},c.editNotice=function(e){window.localStorage.setItem("noticeNo",e),c.props.history.push("./notice/modify")},c.deleteNotice=function(e){O.deleteNotice(e).then((function(t){c.setState({message:"Notice Deleted Successfully."}),c.setState({notices:c.state.notices.filter((function(t){return t.notice_no!==e}))})})).catch((function(e){console.log("deleteNotice() Error!",e)}))},c.state={notices:[],filteredData:[],searchKeyword:"",pageSize:5,currentPage:1,loginInfo:null,message:null},c.handleSubmit=c.handleSubmit.bind(Object(m.a)(c)),c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.reloadNoticeList()}},{key:"render",value:function(){var e=this,t=this.state.notices.length,n={notices:this.state.notices,pageSize:this.state.pageSize,currentPage:this.state.currentPage},c=function(e,t,n){var c=(t-1)*n;return _()(e).slice(c).take(n).value()}(n.notices,n.currentPage,n.pageSize);return Object(N.jsxs)("div",{className:"container",style:{marginTop:"5%"},children:[Object(N.jsx)("h2",{style:{display:"flex",justifyContent:"center"},children:"\uacf5\uc9c0\uc0ac\ud56d"}),Object(N.jsxs)("form",{onSubmit:this.handleSubmit,style:{display:"flex",justifyContent:"flex-end\t",margin:"0 auto",marginTop:"5%"},children:[Object(N.jsx)("input",{size:"25",placeholder:"\uac80\uc0c9\ud560 \ub2e8\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694",value:this.state.searchKeyword,onChange:this.handleChange,name:"searchKeyword",style:{marginRight:"5px"}}),Object(N.jsx)(v.a,{className:"btn btn-success",type:"submit",children:"\uac80\uc0c9"})]}),Object(N.jsxs)("div",{style:{marginTop:"30px"},children:[Object(N.jsxs)(C.a,{hover:!0,className:"table table-hover",style:{textAlign:"center",marginTop:"10px"},children:[Object(N.jsx)("thead",{style:{fontSize:"15pt",marginTop:"10px"},children:Object(N.jsxs)("tr",{className:"table-primary",children:[Object(N.jsx)("th",{children:"\ubc88\ud638"}),Object(N.jsx)("th",{children:"\ud0c0\uc785"}),Object(N.jsx)("th",{children:"\uc81c\ubaa9"}),Object(N.jsx)("th",{children:"\uc791\uc131\uc77c"}),Object(N.jsx)("th",{children:"\uc870\ud68c\uc218"}),Object(N.jsx)("th",{children:"\uc791\uc131\uc790"})]})}),Object(N.jsx)("tbody",{className:"table-light",children:c.map((function(t,n){return Object(N.jsxs)("tr",{className:"data1",children:[Object(N.jsx)("td",{className:"board_no",children:(e.state.currentPage-1)*e.state.pageSize+n+1}),Object(N.jsx)("td",{className:"board_type",children:t.notice_type}),Object(N.jsx)("td",{className:"board_title",children:Object(N.jsx)(h.b,{to:{pathname:"notice/".concat(t.notice_no),state:{loginInfo:e.state.loginInfo}},children:t.notice_title})}),Object(N.jsx)("td",{className:"board_date",children:t.notice_date}),Object(N.jsx)("td",{className:"board_views",children:t.notice_views}),Object(N.jsx)("td",{className:"board_mem",children:t.notice_admin})]},t.notice_no)}))})]}),Object(N.jsx)(y,{itemsCount:t,pageSize:this.state.pageSize,currentPage:this.state.currentPage,onPageChange:this.handlePageChange})]})]})}}]),n}(c.Component)),S=function(e){Object(r.a)(n,e);var t=Object(d.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).reloadNotice=function(){O.fetchNoticeByNo(c.state.notice_no).then((function(e){c.setState({notice_type:e.data.notice.notice_type,notice_title:e.data.notice.notice_title,notice_contents:e.data.notice.notice_contents,notice_date:e.data.notice.notice_date,notice_views:e.data.notice.notice_views,notice_admin:e.data.notice.notice_admin})})).catch((function(e){console.log("reloadNotice() Error!",e)})),O.fetchNC(c.state.notice_no).then((function(e){c.setState({notice_comments:e.data.list})})).catch((function(e){console.log("reloadNoticeList() Error!",e)}))},c.deleteNC=function(e){O.deleteNC(e).then((function(t){c.setState({notice_comments:c.state.notice_comments.filter((function(t){return t.com_no!==e}))})})).catch((function(e){console.log("deleteNC() Error!",e)}))},c.handleChange=function(e){c.setState(Object(u.a)({},e.target.name,e.target.value))},c.handleSubmit=function(e){e.preventDefault();var t={com_notice:c.state.notice_no,com_contents:c.state.input_comment,com_mem:c.state.loginInfo};O.addNC(t).then((function(e){c.setState({message:"addNC Completed"}),console.log(c.state.message)})).catch((function(e){console.log("addNC() \uc5d0\ub7ec",e)})),c.reloadNotice(),c.setState({input_comment:""})},console.log("\ud14c\uc2a4\ud2b8 1 : ",e),c.state={notice_no:c.props.match.params.no,notice_type:"",notice_title:"",notice_contents:"",notice_admin:"",notice_comments:[],notice_date:"",notice_views:"",input_comment:"",message:"",loginInfo:c.props.location.state.loginInfo},console.log("\ud14c\uc2a4\ud2b8 2 : ",c.state.loginInfo),c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.reloadNotice()}},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"container",style:{marginTop:"5%"},children:[Object(N.jsx)("h2",{style:{display:"flex",justifyContent:"center"},children:"\uc0c1\uc138\ud398\uc774\uc9c0"}),Object(N.jsx)("div",{children:Object(N.jsxs)(C.a,{className:"table",hover:!0,children:[Object(N.jsx)("thead",{}),Object(N.jsxs)("tbody",{className:"table-light",children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"success text-center",style:{width:"25%"},children:"\ubc88\ud638"}),Object(N.jsx)("td",{className:"board_no text-center",style:{width:"25%"},children:this.state.notice_no}),Object(N.jsx)("td",{className:"success text-center",style:{width:"25%"},children:"\ud0c0\uc785"}),Object(N.jsx)("td",{className:"board_type text-center",style:{width:"25%"},children:this.state.notice_type})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"success text-center",style:{width:"25%"},children:"\uc81c\ubaa9"}),Object(N.jsx)("td",{className:"board_title text-center",style:{width:"25%"},children:this.state.notice_title}),Object(N.jsx)("td",{className:"success text-center",style:{width:"25%"},children:"\uc791\uc131\uc790"}),Object(N.jsx)("td",{className:"board_mem text-center",style:{width:"25%"},children:this.state.notice_admin})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"success text-center",style:{width:"25%"},children:"\uc870\ud68c\uc218"}),Object(N.jsx)("td",{className:"board_views text-center",style:{width:"25%"},children:this.state.notice_views}),Object(N.jsx)("td",{className:"success text-center",style:{width:"25%"},children:"\uc791\uc131\uc77c"}),Object(N.jsx)("td",{className:"board_date text-center",style:{width:"25%"},children:this.state.notice_date})]}),Object(N.jsx)("tr",{}),Object(N.jsx)("tr",{children:Object(N.jsx)("td",{className:"board_contents text-center",colSpan:"4",height:"200",valign:"top",children:this.state.notice_contents})}),Object(N.jsx)("tr",{children:Object(N.jsx)("td",{className:"text-right",colspan:"4",children:Object(N.jsx)(h.b,{to:"/ta_front/notice.html",children:Object(N.jsx)(v.a,{className:"btn btn-success",variant:"contained",color:"primary",children:"Back"})})})})]})]})}),Object(N.jsxs)("form",{onSubmit:this.handleSubmit,style:{display:"flex",justifyContent:"center",margin:"0 auto",marginTop:"5%"},children:[Object(N.jsx)("input",{size:"60",placeholder:"\ub313\uae00\uc744 \uc785\ub825\ud558\uc138\uc694",value:this.state.input_comment,onChange:this.handleChange,name:"input_comment",style:{marginRight:"5px"}}),Object(N.jsx)("button",{className:"btn btn-success",type:"submit",children:"\uc791\uc131"})]}),Object(N.jsx)("div",{children:Object(N.jsxs)(C.a,{className:"table",id:"comment",style:{margin:"10px",textAlign:"center"},hover:!0,children:[Object(N.jsx)("thead",{className:"table-success",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"\uc791\uc131\uc790"}),Object(N.jsx)("th",{children:"\ub0b4\uc6a9"}),Object(N.jsx)("th",{children:"\uc791\uc131\uc77c"}),Object(N.jsx)("th",{children:"Delete"})]})}),Object(N.jsx)("tbody",{children:this.state.notice_comments.map((function(t){var n,c;return Object(N.jsxs)("tr",{className:"data2",children:[Object(N.jsx)("td",{class:"com_mem",children:t.com_mem.member_nickName}),Object(N.jsx)("td",{class:"com_contents",children:t.com_contents}),Object(N.jsx)("td",{class:"com_date",children:t.com_date}),Object(N.jsx)("td",{class:"com_delete",children:void 0!==(null===(n=e.state.loginInfo)||void 0===n?void 0:n.member_no)&&t.com_mem.member_no===(null===(c=e.state.loginInfo)||void 0===c?void 0:c.member_no)?Object(N.jsx)("input",{class:"com_delete_button btn btn-xs btn-outline-success",type:"submit",value:"\uc0ad\uc81c",onClick:function(){return e.deleteNC(t.com_no)}}):Object(N.jsx)("p",{children:"\uc0ad\uc81c \ubd88\uac00"})})]},t.com_no)}))})]})})]})}}]),n}(c.Component),k=n(76),P=function(e){Object(r.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(N.jsx)(h.a,{children:Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(k.a,{children:Object(N.jsxs)(j.c,{children:[Object(N.jsx)(j.a,{exact:!0,path:"/ta_front/notice.html",component:w}),Object(N.jsx)(j.a,{exact:!0,path:"/ta_front/notice/",component:S}),Object(N.jsx)(j.a,{exact:!0,path:"/ta_front/notice/:no",component:S})]})})})})}}]),n}(a.a.Component),I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(P,{})}),document.getElementById("root")),I()}},[[74,1,2]]]);
//# sourceMappingURL=main.dee943f5.chunk.js.map