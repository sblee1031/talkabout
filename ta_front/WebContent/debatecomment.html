<!DOCTYPE html>
<html>
    <head>
     <meta charset="UTF-8" />
        <title>토론결과 댓글</title>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
            <style>
  table {
    width: 100%;
    border: 2px solid #444444;
    border-collapse: collapse;
  }
  th,tr,td {
    border: 1px solid #444444;
  }
            </style>
            <script>
            $(function(){
            	console.log('시작1');
            	var com_deb='1';
            	var data = {com_deb : com_deb};
            	 var url = "../ta_back/debatecommentselect";
                 $.ajax({
                   url: url,
                   method: "post",
                   data: data,
                   //dataType: "json",
                   success: function (responsedata) {
						console.log(responsedata.comment);
						var data = responsedata.comment;
						var comment = $('#trcomments');
						var table = $('#tablecomment');
						
						 $(data).each(function(i, e){
							 var cloneobj = comment.clone();
							 console.log(i);
							 cloneobj.html(e.com_contents);
							 table.append(cloneobj);
							 
						 });
                   },
                 });
            
            });
            $(function () {
            	$("#insert_btn").click(function(){
            		console.log('시작 2');
    				var com_contents = '';
    				var data = data;
    				var url = "../ta_back/debatecommentinsert";
    				$.ajax({
    					url: url,
    					method: "post",
    					data: data,
    					success: function(responsedata){
    						console.log(responsedata.comment);
    						var data = responsedata.comment;
    						var comment = $('#trinsert');
    						var table = $('tableinsert');
                       },
                     });
            	});
				
            
            });
            $(function () {
            	$("#update_btn").click(function(){
            		console.log('시작 3');
    				var com_contents = '';
    				var data = data;
    				var url = "../ta_back/debatecommentupdate";
    				$.ajax({
    					url: url,
    					method: "post",
    					data: data,
    					success: function(responsedata){
    						console.log(responsedata.comment);
    						var data = responsedata.comment;
    						var comment = $('#trupdate');
    						var table = $('tableupdate');
                       },
                     });
            	});
				
            
            });
            $(function () {
            	$("#delete_btn").click(function(){
            		console.log('시작 4');
    				var com_contents = '';
    				var data = data;
    				var url = "../ta_back/debatecommentdelete";
    				$.ajax({
    					url: url,
    					method: "post",
    					data: data,
    					success: function(responsedata){
    						console.log(responsedata.comment);
    						var data = responsedata.comment;
    						var comment = $('#trdelete');
    						var table = $('tabledelete');
                       },
                     });
            	});
            });
            
            </script>
</head>        
      
    <body>
        <input type="hidden" id="debcom_id" name="debcom_id"  />
        <div align="center">
          
            <table border="1" width="1200px" bordercolor=blue >
               
                <tr>
                    <td width="900px">
                        제목: 토론결과
                    </td>
                    <td>
                        작성자: 허동현
                    </td>
                </tr>
                <tr height="200px">
                    <td colspan="2" valign="top">
                        호날두 vs 메시
         </br> 메시승              
                    </td>
                </tr>
            </table>
            <table  border="1" id="tablecomment" bordercolor=red width="1200px" >
                <tr id="trcomments"><!-- 뒤에 댓글 붙이기 쉽게 선언 -->
                		 <button id="update_btn" name="update_btn">댓글수정</button>
                        <!-- 댓글수정 -->
                        <button id="delete_btn" name="delete_btn">댓글삭제</button>
                        <!-- 댓글삭제 -->
                </tr>
                <!-- 댓글이 들어갈 공간 -->
            </table>
            <table border="1" id=tableinsert  width="1200px" bordercolor=red>
                <tr>
                    <td width="500px">
                        이름: <input type="text" id="debcom_writer" name="debcom_writer" style="width:170px;" maxlength="10" placeholder="mem_no올 자리"/>
                        <button id="insert_btn" name="insert_btn">댓글작성</button>
                        <!-- 댓글작성 -->
                         
                    </td>
                </tr>
                <tr>
                    <td>
                        <textarea id="trinsert" name="trinsert" rows="4" cols="150" placeholder="-댓글작성칸 -*욕설 및 비하시 강제  아이디 삭제됨ㅎㅎ*"></textarea>
                    </td>
                </tr>
            </table>
            <table width="1200px">
                <tr>
                </tr>
            </table>
        </div>
    </body>
</html>