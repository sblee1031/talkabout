(this.webpackJsonpdebatebattle=this.webpackJsonpdebatebattle||[]).push([[0],{117:function(e,t,c){},118:function(e,t,c){},142:function(e,t,c){},312:function(e,t,c){},313:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(106),i=c.n(a),l=(c(117),c(118),c(25)),r=c(6),d=c(319),j=c(8),b=c(322),o=c(315),h=c(320),u=c(321),x=c(107),O=c(108),m=c(19),p=c.n(m),f="http://localhost:9999/ta_back/debbattle/audience",v="http://localhost:9999/ta_back/debbattle/debate",g="http://localhost:9999/ta_back/debbattle/debatedetail",y=new(function(){function e(){Object(x.a)(this,e)}return Object(O.a)(e,[{key:"fetchAudiences",value:function(){return p.a.get(f,{withCredentials:!0})}},{key:"fetchAudOneByPK",value:function(e){return p.a.get(f+"/one",e,{withCredentials:!0})}},{key:"fetchAudOneByTwo",value:function(e){return p.a.get(f+"/one",e,{withCredentials:!0})}},{key:"addVote",value:function(e){return p.a.post(f,e,{withCredentials:!0})}},{key:"editVote",value:function(e){return p.a.put(f+"/"+e.audi_no,e,{withCredentials:!0})}},{key:"fetchDebates",value:function(){return p.a.get(v,{withCredentials:!0})}},{key:"fetchDebOne",value:function(e){return p.a.get(v+"/"+e,{withCredentials:!0})}},{key:"editDebate",value:function(e){return p.a.put(v+"/"+e.deb_no,e)}},{key:"fetchDiscussors",value:function(e){return p.a.get(g+"/"+e,{withCredentials:!0})}},{key:"fetchDetailOne",value:function(e){return p.a.get(g+"/one",e,{withCredentials:!0})}},{key:"editDetail",value:function(e){return p.a.put(g+"/"+e.detail_no,e,{withCredentials:!0})}}]),e}()),_=c(49),N=c.n(_),k=c(0),S=function(e){var t=e.itemsCount,c=e.pageSize,n=e.currentPage,s=e.onPageChange,a=Math.ceil(t/c),i=Math.ceil(n/c);if(1===a)return null;var r=i*c;r>a&&(r=a);var d=r-(c-1);d<1&&(d=1);var j=!1;j=1!=n;var b=!1;b=n!=a;var o=N.a.range(d,r+1);return Object(k.jsxs)("nav",{style:{display:"flex",justifyContent:"center"},children:[" ",Object(k.jsxs)("ul",{className:"pagination",children:[j&&Object(k.jsx)("li",{className:"prev",children:Object(k.jsx)(l.b,{className:"page-link",onClick:function(){return s(n-1)},to:{pathname:"/ta_front/debbattle.html"},children:"\xab"})}),o.map((function(e){return Object(k.jsxs)("li",{className:e===n?"page-item active":"page-item",style:{cursor:"pointer"},children:[Object(k.jsx)(l.b,{className:"page-link",onClick:function(){return s(e)},to:{pathname:"/ta_front/debbattle.html"},children:e})," "]},e)})),b&&Object(k.jsx)("li",{className:"next",children:Object(k.jsx)(l.b,{className:"page-link",onClick:function(){return s(n+1)},to:{pathname:"/ta_front/debbattle.html"},children:"\xbb"})})]})]})};function w(e){var t=Object(n.useState)(),c=Object(j.a)(t,2),s=c[0],a=c[1],i=Object(n.useState)(),r=Object(j.a)(i,2),d=r[0],x=r[1],O=Object(n.useState)(1),m=Object(j.a)(O,2),p=m[0],f=m[1],v=Object(n.useState)(),g=Object(j.a)(v,2),_=g[0],w=g[1],C=function(e,t,c){var n=(t-1)*c;return N()(e).slice(n).take(c).value()}(s,p,5),A=null===s||void 0===s?void 0:s.length;return Object(n.useEffect)((function(){y.fetchDebates().then((function(e){a(e.data.list),w(e.data.logininfo)}))}),[]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("button",{onClick:function(){fetch("http://localhost:9999/ta_back/member/login?socialNo=1775421132_112",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){w(e.member),console.log("login---\x3e",e.member)}))},children:"\ub85c\uae3481"}),Object(k.jsx)("button",{onClick:function(){fetch("http://localhost:9999/ta_back/member/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({member_social_no:"118153287897731040607"}),credentials:"include"}).then((function(e){return e.json()})).then((function(e){console.log("logout---\x3e",e)}))},children:"\ub85c\uadf8\uc544\uc6c3"}),Object(k.jsx)("h2",{style:{display:"flex",justifyContent:"center"},children:"\ud1a0\ub860 \ubc30\ud2c0"}),Object(k.jsxs)("div",{style:{textAlign:"right",marginRight:"10px",display:"block"},children:[Object(k.jsx)("label",{style:{fontSize:"15pt",fontWeight:"600"},children:Object(k.jsxs)(h.a,{className:"mb-3",children:[Object(k.jsx)(h.a.Text,{id:"inputGroup-sizing-default",children:"\uac80\uc0c9"}),Object(k.jsx)(u.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",placeholder:"\uac80\uc0c9\ud560 \ub2e8\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694",onChange:function(e){x(e.target.value)}})]})}),Object(k.jsx)(b.a,{style:{marginLeft:"10px"},className:"buttons",variant:"success",onClick:function(e){if(d){f(1);var t;t=s.filter((function(e){return-1!==e.debate_topic.search(d)})),a(t)}else e.preventDefault(),alert("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694")},children:"\uac80\uc0c9"})]}),Object(k.jsxs)(o.a,{responsive:"xl",hover:!0,children:[Object(k.jsx)("thead",{className:"table-primary",children:Object(k.jsxs)("tr",{style:{fontSize:"14pt"},children:[Object(k.jsx)("th",{style:{width:"10%"},children:"\ubc88\ud638"}),Object(k.jsx)("th",{style:{width:"20%"},children:"\uc8fc\uc81c"}),Object(k.jsx)("th",{style:{width:"20%"},children:"\ud604\ud669"}),Object(k.jsx)("th",{style:{width:"10%"},children:"\ud1a0\ub860 \uc2dc\uac04"}),Object(k.jsx)("th",{style:{width:"20%"},children:"\uc2dc\uc791 \uc2dc\uac01"}),Object(k.jsx)("th",{style:{width:"20%"},children:"\uc885\ub8cc \uc2dc\uac01"})]})}),Object(k.jsx)("tbody",{className:"table-light",children:null===C||void 0===C?void 0:C.map((function(e,t){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:5*(p-1)+t+1}),Object(k.jsx)("td",{children:Object(k.jsx)(l.b,{to:{pathname:"/ta_front/debbattle/".concat(e.debate_no),state:{debate:e,logininfo:_}},children:e.debate_topic})}),Object(k.jsx)("td",{children:e.debate_status}),Object(k.jsx)("td",{children:e.debate_time+"\ubd84"}),Object(k.jsx)("td",{children:e.debate_startDate}),Object(k.jsx)("td",{children:e.debate_endDate})]},e.debate_no)}))})]}),Object(k.jsx)(S,{itemsCount:A,pageSize:5,currentPage:p,onPageChange:function(e){f(e)}})]})}var C=c(67),A=c(316),D=(c(142),c(111)),W=c.n(D),M=c(317),P=c.n(M),z=c(318),T=c.n(z);function X(e){var t,c,s=Object(n.useState)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.state.debate),a=Object(j.a)(s,1)[0],i=Object(n.useState)(null===e||void 0===e||null===(c=e.location)||void 0===c?void 0:c.state.logininfo),l=Object(j.a)(i,1)[0],r=Object(n.useState)(),d=Object(j.a)(r,2),b=d[0],h=d[1],u=Object(n.useState)(null===l||void 0===l?void 0:l.member_nickName),x=Object(j.a)(u,1)[0],O=Object(n.useState)(a.debate_no),m=Object(j.a)(O,1)[0],p=Object(n.useState)(["/topic/".concat(m)]),f=Object(j.a)(p,1)[0],v=Object(n.useState)(""),g=Object(j.a)(v,2),_=g[0],N=g[1],S=Object(n.useState)([]),w=Object(j.a)(S,2),D=w[0],M=w[1],z=Object(n.useState)([]),X=Object(j.a)(z,2),B=X[0],E=X[1],J=Object(n.useState)(),L=Object(j.a)(J,2),F=L[0],G=L[1];Object(n.useEffect)((function(){console.log("useEffect \uac00\ub3d9"),y.fetchDiscussors(a.debate_no).then((function(e){console.log("res : ",e),h(e.data.list)}))}),[]);var K=function(){F.sendMessage("/app/sendMessage/".concat(m),JSON.stringify({name:x,message:_,server:!1})),N("")};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"wrapper",children:[Object(k.jsx)("div",{className:"discussor1",children:Object(k.jsxs)(o.a,{hover:!0,children:[Object(k.jsx)("thead",{className:"table-info",children:Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"2",children:Object(k.jsxs)("div",{children:[Object(k.jsx)(A.a,{src:b?b[0].discussor.member_thumb:"",style:{height:"120px",marginLeft:"20px"},alt:"\uc378\ub124\uc77c",roundedCircle:!0}),Object(k.jsx)("br",{}),"\ud1a0\ub860\uc790 A :"," ",b?b[0].discussor.member_nickName:""]})})})}),Object(k.jsxs)("tbody",{className:"table-light",children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:"\uadfc\uac70 1"}),Object(k.jsx)("td",{children:Object(k.jsx)("button",{className:"btn btn-info",children:"\ub4f1\ub85d"})})]}),Object(k.jsx)("tr",{children:Object(k.jsx)("td",{className:"evidence_A",colSpan:"2",children:Object(k.jsx)("textarea",{className:"evidence_A1",type:"text"})})}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:"\uadfc\uac70 2"}),Object(k.jsx)("td",{children:Object(k.jsx)("button",{className:"btn btn-info btn_evid",value:"A2",children:"\ub4f1\ub85d"})})]}),Object(k.jsx)("tr",{children:Object(k.jsx)("td",{className:"evidence_A2",colSpan:"2",children:Object(k.jsx)("textarea",{className:"evidence_A2",type:"text"})})}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:"\uadfc\uac70 3"}),Object(k.jsx)("td",{children:Object(k.jsx)("button",{className:"btn btn-info btn_evid",value:"A3",children:"\ub4f1\ub85d"})})]}),Object(k.jsx)("tr",{children:Object(k.jsx)("td",{className:"evidence_A3",colSpan:"2",children:Object(k.jsx)("textarea",{className:"evidence_A3",type:"text"})})})]})]})}),Object(k.jsx)("div",{className:"chatting",children:Object(k.jsxs)(o.a,{hover:!0,children:[Object(k.jsx)("thead",{className:"table-success",children:Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"3",children:Object(k.jsx)("div",{id:"",className:"battle_topic",children:a.debate_topic})})})}),Object(k.jsxs)("tbody",{className:"table-light",children:[Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"3",children:Object(k.jsxs)("div",{id:"",className:"battle-timer",children:[a.debate_time,"\ubd84"]})})}),Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"3",children:Object(k.jsxs)("div",{className:"battle_vote",children:[b?b[0].discuss:"","XX% / \uc911\ub9bd XX% / ",b?b[1].discuss:""," XX%"]})})}),Object(k.jsx)("tr",{children:Object(k.jsxs)("td",{colSpan:"3",children:[Object(k.jsx)("div",{style:{marginBottom:"5px"},children:"\ud1a0\ub860\uc790 \ucc44\ud305"}),Object(k.jsx)("div",{id:"discussorWindow",style:{height:"145px",overflowY:"auto",display:"flex",flexDirection:"column-reverse"},children:Object(k.jsx)("div",{style:{},children:D.map((function(e,t){var c;return e.name==(null===(c=b[0])||void 0===c?void 0:c.discussor.member_nickName)?Object(k.jsx)("div",{className:"discussor1message",children:e.server?Object(k.jsx)(P.a,{item:!0,style:{padding:"10px",fontStyle:"italic",textAlign:"center"},children:Object(k.jsx)(T.a,{style:{fontWeight:"800"},children:e.message})},t):Object(k.jsx)(P.a,{item:!0,style:{padding:"10px",wordWrap:"break-word"},children:Object(k.jsxs)(T.a,{children:[e.name,Object(k.jsx)("br",{}),e.message]})},t)},t):Object(k.jsx)("div",{className:"discussor2message",children:e.server?Object(k.jsx)(P.a,{item:!0,style:{padding:"10px",fontStyle:"italic",textAlign:"center"},children:Object(k.jsx)(T.a,{style:{fontWeight:"800"},children:e.message})},t):Object(k.jsx)(P.a,{item:!0,style:{padding:"10px",wordWrap:"break-word"},children:Object(k.jsxs)(T.a,{children:[e.name,Object(k.jsx)("br",{})," ",e.message]})},t)},t)}))})})]})}),Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"3",children:Object(k.jsxs)("div",{className:"set_time-group",children:[Object(k.jsx)("button",{id:"start",className:"btn btn-primary btn_settime",children:"\uc2dc\uc791"}),Object(k.jsx)("button",{id:"end",className:"btn btn-secondary btn_settime",children:"\uc885\ub8cc"})]})})}),Object(k.jsx)("tr",{children:Object(k.jsxs)("td",{colSpan:"3",children:[Object(k.jsx)("div",{children:"\uc911\uacc4\ubc29 \ucc44\ud305"}),Object(k.jsx)("div",{id:"audienceWindow",style:{height:"140px",overflowY:"auto",display:"flex",flexDirection:"column-reverse"},children:Object(k.jsx)("div",{style:{textAlign:"left"},children:B.map((function(e,t){return Object(k.jsx)("div",{children:e.server?Object(k.jsx)(P.a,{item:!0,style:{padding:"10px",fontStyle:"italic"},children:Object(k.jsx)(T.a,{style:{fontWeight:"800",textAlign:"center"},children:e.message})},t):Object(k.jsx)(P.a,{item:!0,style:{padding:"10px"},children:Object(k.jsxs)(T.a,{style:{wordWrap:"break-word"},children:[e.name,Object(k.jsx)("br",{}),e.message]})},t)},t)}))})})]})}),Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"3",children:Object(k.jsxs)("div",{className:"vote_div_group",children:[Object(k.jsx)("button",{className:"btn btn-info btn_vote",value:"1",children:"\ucc2c\uc131"}),Object(k.jsx)("button",{className:"btn btn-success btn_vote",value:"2",children:"\uc911\ub9bd"}),Object(k.jsx)("button",{className:"btn btn-danger btn_vote",value:"3",children:"\ubc18\ub300"})]})})}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:Object(k.jsx)("input",{id:"user",type:"text",value:null===l||void 0===l?void 0:l.member_nickName,style:{width:"70px",border:"none",fontSize:"10pt",fontStyle:"italic",fontWeight:"800",color:"darkslategrey"},readOnly:"readonly"})}),Object(k.jsx)("td",{children:Object(k.jsx)("input",{id:"textMessage",type:"text",style:{width:"100%"},value:_,onChange:function(e){N(e.target.value)},onKeyPress:function(e){console.log(e.key),"Enter"==e.key&&K()}})}),Object(k.jsx)("td",{children:Object(k.jsx)("button",{className:"btn btn-success",onClick:function(){K()},children:"\uc804\uc1a1"})})]})]})]})}),Object(k.jsx)("div",{className:"discussor2",children:Object(k.jsxs)(o.a,{hover:!0,children:[Object(k.jsx)("thead",{className:"table-secondary",children:Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"2",children:Object(k.jsxs)("div",{children:[Object(k.jsx)(A.a,{src:b?b[1].discussor.member_thumb:"",style:{height:"120px",marginLeft:"20px"},alt:"\uc378\ub124\uc77c",roundedCircle:!0}),Object(k.jsx)("br",{}),"\ud1a0\ub860\uc790 B :"," ",b?b[1].discussor.member_nickName:""]})})})}),Object(k.jsxs)("tbody",{className:"table-light",children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:"\uadfc\uac70 1"}),Object(k.jsx)("td",{children:Object(k.jsx)("button",{className:"btn btn-secondary",children:"\ub4f1\ub85d"})})]}),Object(k.jsx)("tr",{children:Object(k.jsx)("td",{className:"evidence_A",colSpan:"2",children:Object(k.jsx)("textarea",{className:"evidence_A1",type:"text"})})}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:"\uadfc\uac70 2"}),Object(k.jsx)("td",{children:Object(k.jsx)("button",{className:"btn btn-secondary btn_evid",value:"A2",children:"\ub4f1\ub85d"})})]}),Object(k.jsx)("tr",{children:Object(k.jsx)("td",{className:"evidence_A2",colSpan:"2",children:Object(k.jsx)("textarea",{className:"evidence_A2",type:"text"})})}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:"\uadfc\uac70 3"}),Object(k.jsx)("td",{children:Object(k.jsx)("button",{className:"btn btn-secondary btn_evid",value:"A3",children:"\ub4f1\ub85d"})})]}),Object(k.jsx)("tr",{children:Object(k.jsx)("td",{className:"evidence_A3",colSpan:"2",children:Object(k.jsx)("textarea",{className:"evidence_A3",type:"text"})})})]})]})})]}),Object(k.jsx)(W.a,{url:"http://localhost:9999/ta_back/websocket-chat/",topics:f,onConnect:function(){console.log("connected"),F.sendMessage("/app/addUser/".concat(m),JSON.stringify({name:x,message:x+" has connected!",server:!0}))},onDisconnect:function(){console.log("disconnected")},onMessage:function(e){if(x==b[0].discussor.member_nickName||x==b[1].discussor.member_nickName){var t=Object(C.a)(D);t.push(e),M(t)}else{var c=Object(C.a)(B);c.push(e),E(c)}},ref:function(e){G(e)}})]})}var B=function(){return Object(k.jsx)(l.a,{children:Object(k.jsx)("div",{className:"App",children:Object(k.jsx)(d.a,{children:Object(k.jsxs)(r.c,{children:[Object(k.jsx)(r.a,{path:"/ta_front/debbattle.html",component:w}),Object(k.jsx)(r.a,{path:"/ta_front/debbattle/:no",component:X})]})})})})};c(312);i.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(B,{})}),document.getElementById("root"))}},[[313,1,2]]]);
//# sourceMappingURL=main.b5983c4e.chunk.js.map